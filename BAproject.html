<!DOCTYPE html>
<html>
  <head>
    <title>Film_Perception</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="jspsych-4.3/jspsych.js"></script>
    <script src="jspsych-4.3/plugins/jspsych-text.js"></script>
    <script src="jspsych-4.3/plugins/jspsych-single-stim.js"></script>
  <script src="jspsych-4.3/plugins/jspsych-multi-stim-multi-response.js"></script>
    <link href="jspsych-4.3/css/jspsych.css" rel="stylesheet" type="text/css">
  
  <style>
  body {
    color: white;
    background: black;
  }
</style>
  </head>
  <body>
    <script>
  
  var condition = Math.floor(Math.random() * 4) + 1;
  var subject_id = Math.floor(Math.random()*100000);
  var folder = "BAStim/";
  var turkInfo = jsPsych.turk.turkInfo(); 
  var i;

   var experiment = [];

      //Consent Form 
   var consent = {
        type: "single-stim",
        stimuli: ["BAStim/consent.png"],
        prompt: '<p>Please wait for the consent form to load. If you agree, please press F on the keyboard to continue on to the study.</p>',
        choices: ['F'],
        timing_post_trial: 1000
      };  

    experiment.push(consent);

    //Welcome text
      var welcome_text = {
        type: "text",
        text: '<p>Welcome to the experiment. </p><p>Before we begin, please turn up the brightness and volume on your computer.</p><p>Press any key to continue.</p>',
        timing_post_trial: 0
      };
    
    experiment.push(welcome_text);

  //Encoding Instructions
      var enc_instruction_text = {
        type: "text",
        text: '<p>In this experiment you will be asked to watch several short clips from various movies. There are 16 clips, and each clip is 15 seconds long.</p>' +
      ' <p>After you have seen all of the movie clips, you will be asked some basic questions about these clips.' +
      '</p><p>When you are ready to begin watching the first movie clip, press any key.</p>',
        timing_post_trial: 0
      };
      
    experiment.push(enc_instruction_text);
    
    var enc_wait_text = {
        type: "single-stim",
        stimuli: [["Please be patient while the video clips load. This should take about 2 minutes."]],
        is_html: true,
        timing_stim: [120000],
        timing_response: 120000,
        choices: [null],
        response_ends_trial: false,
        timing_post_trial: 0
      };
      
    experiment.push(enc_wait_text);
      
            //Encoding  
        

  var vid_stimuli;
  
  if (condition === 1) {
    vid_stimuli = [
    '<video src="BAStim/Audiovisual_Clips/1_1.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_2.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_3.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_4.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_5.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_6.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_7.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_8.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_9.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_10.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_11.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_12.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_13.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_14.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_15.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/1_16.mp4" autoplay></video>',
    '<img src="BAStim/Attention_Check/VCheck1.png"></img>',
    '<img src="BAStim/Attention_Check/VCheck2.png"></img>',
    '<audio src="BAStim/Attention_Check/ACheck1.m4a" autoplay></audio>',
    '<audio src="BAStim/Attention_Check/ACheck2.m4a" autoplay></audio>'
    ]; }
    else if (condition === 2){
    vid_stimuli = [
    '<video src="BAStim/Audiovisual_Clips/2_1.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_2.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_3.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_4.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_5.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_6.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_7.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_8.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_9.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_10.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_11.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_12.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_13.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_14.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_15.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/2_16.mp4" autoplay></video>',
    '<img src="BAStim/Attention_Check/VCheck1.png"></img>',
    '<img src="BAStim/Attention_Check/VCheck2.png"></img>',
    '<audio src="BAStim/Attention_Check/ACheck1.m4a" autoplay></audio>',
    '<audio src="BAStim/Attention_Check/ACheck2.m4a" autoplay></audio>'
    ]; }
    else if (condition === 3){
     vid_stimuli = [
    '<video src="BAStim/Audiovisual_Clips/3_1.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_2.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_3.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_4.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_5.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_6.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_7.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_8.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_9.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_10.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_11.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_12.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_13.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_14.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_15.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/3_16.mp4" autoplay></video>',
    '<img src="BAStim/Attention_Check/VCheck1.png"></img>',
    '<img src="BAStim/Attention_Check/VCheck2.png"></img>',
    '<audio src="BAStim/Attention_Check/ACheck1.m4a" autoplay></audio>',
    '<audio src="BAStim/Attention_Check/ACheck2.m4a" autoplay></audio>'
    ]; }
    else {
     vid_stimuli = [
    '<video src="BAStim/Audiovisual_Clips/4_1.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_2.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_3.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_4.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_5.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_6.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_7.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_8.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_9.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_10.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_11.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_12.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_13.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_14.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_15.mp4" autoplay></video>',
    '<video src="BAStim/Audiovisual_Clips/4_16.mp4" autoplay></video>',
    '<img src="BAStim/Attention_Check/VCheck1.png"></img>',
    '<img src="BAStim/Attention_Check/VCheck2.png"></img>',
    '<audio src="BAStim/Attention_Check/ACheck1.m4a" autoplay></audio>',
    '<audio src="BAStim/Attention_Check/ACheck2.m4a" autoplay></audio>'
    ]; }

    var rand_vid_trials = jsPsych.randomization.repeat(vid_stimuli,1);
      
    for(var i=0; i < rand_vid_trials.length; i++){
      
    var video_encoding = {
        type: "single-stim",
        stimuli: [rand_vid_trials[i]],
        is_html: true,
        choices: ['Q','Y','P','B'],
        timing_response: 17000,
        response_ends_trial: false
      };
      
  var fixation = {
        type: "multi-stim-multi-response",
        stimuli: [["***", "**", "*"]],
        is_html: true,
        timing_stim: [800, 800, 800],
        timing_response: 2400,
        choices: [null, null, null],
        response_ends_trial: false,
        timing_post_trial: 0
      };
  
       experiment.push(video_encoding);
       experiment.push(fixation);
  
    }  

      //Retrieval Instructions

      var ret_instruction_text1 = {
        type: "text",
        text: '<p>You will now be presented with pairs of still images. Some of these images have been taken from the part of the movies in the movie clips you just watched. Other still images have been taken from other parts of the movies that you did not just watch.</p>' + 
    '<p> Your job is to make your best judgment as to which still image is from a movie clip that you just watched.</p>' +
    '</p><p>If you think the left still image comes from a clip you watched from the first part of the experiment, press "F" on the keyboard. </p>' + 
    '<p>If you think the right still image comes from a clip you watched in the first part of the experiment, press "J" on the keyboard.</p><p>When you are ready to see the first pair of still images, press any key.</p>',
        timing_post_trial: 0
      };
      
    experiment.push(ret_instruction_text1);

      //Retrieval 
  
  
      var still_stimuli;

      if (condition === 1){
   
        still_stimuli = [
        {
          image: "BAStim/Still_Images/1a.png",
          data: {response: 'AC', video: 'NF1', audio: 'NF1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/2b.png",
          data: {response: 'AC', video: 'NF1', audio: 'NF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/3a.png",
          data: {response: 'VC', video: 'NF2', audio: 'NS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/4b.png",
          data: {response: 'VC', video: 'NF2', audio: 'NS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/5a.png",
          data: {response: 'TC', video: 'NF3', audio: 'PF1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/6b.png",
          data: {response: 'TC', video: 'NF3', audio: 'PF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/7a.png",
          data: {response: 'NC', video: 'NF4', audio: 'PS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/8b.png",
          data: {response: 'NC', video: 'NF4', audio: 'PS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/9a.png",
          data: {response: 'VC', video: 'NS1', audio: 'NF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/10b.png",
          data: {response: 'VC', video: 'NS1', audio: 'NF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/11a.png",
          data: {response: 'AC', video: 'NS2', audio: 'NS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/12b.png",
          data: {response: 'AC', video: 'NS2', audio: 'NS2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/13a.png",
          data: {response: 'NC', video: 'NS3', audio: 'PF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/14b.png",
          data: {response: 'NC', video: 'NS3', audio: 'PF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/15a.png",
          data: {response: 'TC', video: 'NS4', audio: 'PS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/16b.png",
          data: {response: 'TC', video: 'NS4', audio: 'PS2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/17a.png",
          data: {response: 'TC', video: 'PF1', audio: 'NF3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/18b.png",
          data: {response: 'TC', video: 'PF1', audio: 'NF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/19a.png",
          data: {response: 'NC', video: 'PF2', audio: 'NS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/20b.png",
          data: {response: 'NC', video: 'PF2', audio: 'NS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/21a.png",
          data: {response: 'AC', video: 'PF3', audio: 'PF3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/22b.png",
          data: {response: 'AC', video: 'PF3', audio: 'PF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/23a.png",
          data: {response: 'VC', video: 'PF4', audio: 'PS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/24b.png",
          data: {response: 'VC', video: 'PF4', audio: 'PS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/25a.png",
          data: {response: 'NC', video: 'PS1', audio: 'NF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/26b.png",
          data: {response: 'NC', video: 'PS1', audio: 'NF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/27a.png",
          data: {response: 'TC', video: 'PS2', audio: 'NS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/28b.png",
          data: {response: 'TC', video: 'PS2', audio: 'NS4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/29a.png",
          data: {response: 'VC', video: 'PS3', audio: 'PF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/30b.png",
          data: {response: 'VC', video: 'PS3', audio: 'PF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/31a.png",
          data: {response: 'AC', video: 'PS4', audio: 'PS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/32b.png",
          data: {response: 'AC', video: 'PS4', audio: 'PS4', correct: '70'}
        },
        ]; }
    
      else if (condition === 2){
    
        still_stimuli = [
        {
          image: "BAStim/Still_Images/1b.png",
          data: {response: 'VC', video: 'NF1', audio: 'NS2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/2a.png",
          data: {response: 'VC', video: 'NF1', audio: 'NS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/3b.png",
          data: {response: 'TC', video: 'NF2', audio: 'PF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/4a.png",
          data: {response: 'TC', video: 'NF2', audio: 'PF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/5b.png",
          data: {response: 'NC', video: 'NF3', audio: 'PS2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/6a.png",
          data: {response: 'NC', video: 'NF3', audio: 'PS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/7b.png",
          data: {response: 'AC', video: 'NF4', audio: 'NF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/8a.png",
          data: {response: 'AC', video: 'NF4', audio: 'NF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/9b.png",
          data: {response: 'AC', video: 'NS1', audio: 'NS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/10a.png",
          data: {response: 'AC', video: 'NS1', audio: 'NS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/11b.png",
          data: {response: 'NC', video: 'NS2', audio: 'PF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/12a.png",
          data: {response: 'NC', video: 'NS2', audio: 'PF3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/13b.png",
          data: {response: 'TC', video: 'NS3', audio: 'PS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/14a.png",
          data: {response: 'TC', video: 'NS3', audio: 'PS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/15b.png",
          data: {response: 'VC', video: 'NS4', audio: 'NF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/16a.png",
          data: {response: 'VC', video: 'NS4', audio: 'NF3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/17b.png",
          data: {response: 'NC', video: 'PF1', audio: 'NS4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/18a.png",
          data: {response: 'NC', video: 'PF1', audio: 'NS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/19b.png",
          data: {response: 'AC', video: 'PF2', audio: 'PF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/20a.png",
          data: {response: 'AC', video: 'PF2', audio: 'PF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/21b.png",
          data: {response: 'VC', video: 'PF3', audio: 'PS4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/22a.png",
          data: {response: 'VC', video: 'PF3', audio: 'PS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/23b.png",
          data: {response: 'TC', video: 'PF4', audio: 'NF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/24a.png",
          data: {response: 'TC', video: 'PF4', audio: 'NF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/25b.png",
          data: {response: 'TC', video: 'PS1', audio: 'NS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/26a.png",
          data: {response: 'TC', video: 'PS1', audio: 'NS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/27b.png",
          data: {response: 'VC', video: 'PS2', audio: 'PF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/28a.png",
          data: {response: 'VC', video: 'PS2', audio: 'PF1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/29b.png",
          data: {response: 'AC', video: 'PS3', audio: 'PS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/30a.png",
          data: {response: 'AC', video: 'PS3', audio: 'PS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/31b.png",
          data: {response: 'NC', video: 'PS4', audio: 'NF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/32a.png",
          data: {response: 'NC', video: 'PS4', audio: 'NF1', correct: '74'}
        },
        ]; }
    
      else if (condition === 3){
    
        still_stimuli = [
        {
          image: "BAStim/Still_Images/1a.png",
          data: {response: 'TC', video: 'NF1', audio: 'PF3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/2b.png",
          data: {response: 'TC', video: 'NF1', audio: 'PF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/3a.png",
          data: {response: 'NC', video: 'NF2', audio: 'PS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/4b.png",
          data: {response: 'NC', video: 'NF2', audio: 'PS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/5a.png",
          data: {response: 'AC', video: 'NF3', audio: 'NF3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/6b.png",
          data: {response: 'AC', video: 'NF3', audio: 'NF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/7a.png",
          data: {response: 'VC', video: 'NF4', audio: 'NS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/8b.png",
          data: {response: 'VC', video: 'NF4', audio: 'NS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/9a.png",
          data: {response: 'NC', video: 'NS1', audio: 'PF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/10b.png",
          data: {response: 'NC', video: 'NS1', audio: 'PF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/11a.png",
          data: {response: 'TC', video: 'NS2', audio: 'PS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/12b.png",
          data: {response: 'TC', video: 'NS2', audio: 'PS4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/13a.png",
          data: {response: 'VC', video: 'NS3', audio: 'NF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/14b.png",
          data: {response: 'VC', video: 'NS3', audio: 'NF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/15a.png",
          data: {response: 'AC', video: 'NS4', audio: 'NS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/16b.png",
          data: {response: 'AC', video: 'NS4', audio: 'NS4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/17a.png",
          data: {response: 'AC', video: 'PF1', audio: 'PF1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/18b.png",
          data: {response: 'AC', video: 'PF1', audio: 'PF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/19a.png",
          data: {response: 'VC', video: 'PF2', audio: 'PS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/20b.png",
          data: {response: 'VC', video: 'PF2', audio: 'PS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/21a.png",
          data: {response: 'TC', video: 'PF3', audio: 'NF1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/22b.png",
          data: {response: 'TC', video: 'PF3', audio: 'NF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/23a.png",
          data: {response: 'NC', video: 'PF4', audio: 'NS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/24b.png",
          data: {response: 'NC', video: 'PF4', audio: 'NS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/25a.png",
          data: {response: 'VC', video: 'PS1', audio: 'PF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/26b.png",
          data: {response: 'VC', video: 'PS1', audio: 'PF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/27a.png",
          data: {response: 'AC', video: 'PS2', audio: 'PS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/28b.png",
          data: {response: 'AC', video: 'PS2', audio: 'PS2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/29a.png",
          data: {response: 'NC', video: 'PS3', audio: 'NF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/30b.png",
          data: {response: 'NC', video: 'PS3', audio: 'NF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/31a.png",
          data: {response: 'TC', video: 'PS4', audio: 'NS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/32b.png",
          data: {response: 'TC', video: 'PS4', audio: 'NS2', correct: '70'}
        },
        ]; }
    
      else {
    
        still_stimuli = [
        {
          image: "BAStim/Still_Images/1b.png",
          data: {response: 'NC', video: 'NF1', audio: 'PS4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/2a.png",
          data: {response: 'NC', video: 'NF1', audio: 'PS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/3b.png",
          data: {response: 'AC', video: 'NF2', audio: 'NF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/4a.png",
          data: {response: 'AC', video: 'NF2', audio: 'NF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/5b.png",
          data: {response: 'VC', video: 'NF3', audio: 'NS4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/6a.png",
          data: {response: 'VC', video: 'NF3', audio: 'NS4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/7b.png",
          data: {response: 'TC', video: 'NF4', audio: 'PF4', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/8a.png",
          data: {response: 'TC', video: 'NF4', audio: 'PF4', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/9b.png",
          data: {response: 'TC', video: 'NS1', audio: 'PS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/10a.png",
          data: {response: 'TC', video: 'NS1', audio: 'PS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/11b.png",
          data: {response: 'VC', video: 'NS2', audio: 'NF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/12a.png",
          data: {response: 'VC', video: 'NS2', audio: 'NF1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/13b.png",
          data: {response: 'AC', video: 'NS3', audio: 'NS1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/14a.png",
          data: {response: 'AC', video: 'NS3', audio: 'NS1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/15b.png",
          data: {response: 'NC', video: 'NS4', audio: 'PF1', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/16a.png",
          data: {response: 'NC', video: 'NS4', audio: 'PF1', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/17b.png",
          data: {response: 'VC', video: 'PF1', audio: 'PS2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/18a.png",
          data: {response: 'VC', video: 'PF1', audio: 'PS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/19b.png",
          data: {response: 'TC', video: 'PF2', audio: 'NF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/20a.png",
          data: {response: 'TC', video: 'PF2', audio: 'NF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/21b.png",
          data: {response: 'NC', video: 'PF3', audio: 'NS2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/22a.png",
          data: {response: 'NC', video: 'PF3', audio: 'NS2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/23b.png",
          data: {response: 'AC', video: 'PF4', audio: 'PF2', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/24a.png",
          data: {response: 'AC', video: 'PF4', audio: 'PF2', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/25b.png",
          data: {response: 'AC', video: 'PS1', audio: 'PS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/26a.png",
          data: {response: 'AC', video: 'PS1', audio: 'PS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/27b.png",
          data: {response: 'NC', video: 'PS2', audio: 'NF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/28a.png",
          data: {response: 'NC', video: 'PS2', audio: 'NF3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/29b.png",
          data: {response: 'TC', video: 'PS3', audio: 'NS3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/30a.png",
          data: {response: 'TC', video: 'PS3', audio: 'NS3', correct: '74'}
        },
        {
          image: "BAStim/Still_Images/31b.png",
          data: {response: 'VC', video: 'PS4', audio: 'PF3', correct: '70'}
        },
        {
          image: "BAStim/Still_Images/32a.png",
          data: {response: 'VC', video: 'PS4', audio: 'PF3', correct: '74'}
        },
        ]; }
    
      var rand_still_trials = jsPsych.randomization.repeat(still_stimuli,1,true); 
    
    
      var still = {
        type: "single-stim",
        stimuli: rand_still_trials.image,
        data: rand_still_trials.data,
        prompt: '<div style="position: fixed; bottom: 15%;"><p>"F" - left image was previously seen,<p></p> "J" - right image was previously seen</p></div>',
        choices: ['F','J'],
        timing_post_trial: 1500
      };
      
      experiment.push(still);

      var ret_instruction_text3 = {
        type: "text",
        text: '<p>You will now be presented with the same series of still images as before.</p>' + 
    '<p> This time, your job is to make your best judgment as to whether the still images are from a full-length feature film that you have watched in the past.</p>' +
    '</p><p>If you think the still image comes from a movie you have watched in its entirety before this experiment, press "J" on the keyboard. </p>' + 
    '<p>If you think the still image does not come from a movie you have watched in its entirety before this experiment, press "F" on the keyboard.</p><p>To continue, press any key</p>',
        timing_post_trial: 0
      };
      
    experiment.push(ret_instruction_text3);

      var still_recog2 = {
        type: "single-stim",
        stimuli: rand_still_trials.image,
        data: rand_still_trials.data,
        prompt: '<div style="position: fixed; bottom: 15%;"><p>"F" - not previously seen,<p></p> "J" - previously seen</p></div>',
        choices: ['F','J'],
        timing_post_trial: 1500
      };

      experiment.push(still_recog2);

      //Finish Instructions
      var finish_text1 = {
        type: "text",
        text: '<p>Thank you for participating.</p><p> Press F to access your unique participation code.</p>',
		cont_key: ['F'],
        timing_post_trial: 0,
    on_finish: function () {
          var csvData = jsPsych.data.dataAsCSV();
          console.log(csvData);
          var formData = {
            exp: "MAX_BA",  // comment out for testing
            //exp: "TEST",  // uncomment for testing
      subj: subject_id,
      worker: turkInfo.workerId,
      cond: condition,
      results: csvData
          };
          $.post(
            "http://perfectpitchstudies.pythonanywhere.com/data",
            formData
          );
          $.post(
            "http://svanhedger.pythonanywhere.com/data",
            formData
          );
        }
      
      };

      experiment.push(finish_text1);

		var finish_text2 = {
        type: "text",
        text: '<p>Your code for completing this experiment is ' + subject_id + '. Please paste this code into the appropriate box to receive payment.' +
    '</p> Once you have pasted your code into the appropriate box, please press Q to exit the experiment.</p>',
		cont_key: ['Q'],
        timing_post_trial: 0
		};
		
	 experiment.push(finish_text2);	
		
    jsPsych.preloadImages(rand_still_trials.image, function(){ startExperiment(); });
    
      function startExperiment(){
    jsPsych.init({
      experiment_structure: experiment
    });
   }
    </script>
  </body>
</html>